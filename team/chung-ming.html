<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Arielyte Tsen Chung Ming - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">TravelBuddy</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S2-W11-3/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Arielyte Tsen Chung Ming - Project Portfolio</h1></div><div id="content"><h1 id="project-travelbuddy" class="sect0"><a class="link" href="#project-travelbuddy">PROJECT: TravelBuddy</a></h1>
<hr>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">1. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document serves to highlight my contributions to <strong>TravelBuddy</strong>, a travel log application that allows users to efficiently manage their travel records, i.e. the places that they have visited. Additional features built into TravelBuddy allows them to search through the records, attach photos and view statistical models. This  <a href="https://cs2103-ay1819s2-w11-3.github.io/main/AboutUs.html">team-based</a> project is part of the CS2103T Software Engineering module in National University of Singapore, in which my team and I were tasked to morph a given <a href="https://se-education.org/addressbook-level4/">address book</a> product into a new product&#8201;&#8212;&#8201;TravelBuddy. The complete source code for TravelBuddy is available on <a href="https://github.com/CS2103-AY1819S2-W11-3/main">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>My role was to design the chart feature. The following sections describe the enhancements I made in greater detail. They also include relevant sections from the user and developer guide related to these enhancements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">2. Summary of Contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section summarizes my contribution to this project.</p>
</div>
<div class="sect2">
<h3 id="major-enhancement"><a class="link" href="#major-enhancement">2.1. Major Enhancement</a></h3>
<div class="paragraph">
<p>The major enhancement I did was adding the ability to generate charts in real-time or via the <code>generate</code> command, the details of which are stated below:</p>
</div>
<div class="paragraph">
<p><strong>What it does:</strong> It allows users to generate charts based on their travel data that they have accumulated in TravelBuddy.</p>
</div>
<div class="paragraph">
<p><strong>Justification:</strong> This feature allows users to gather insights into their travel patterns. It improves the user-friendliness of TravelBuddy while giving it additional functionality. As such, this feature is the differentiating factor for TravelBuddy among other travel log products on the market.</p>
</div>
<div class="paragraph">
<p><strong>Highlights:</strong> The complexity of this enhancement is due to the fact that it links up with all the components of the existing architecture, as described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Logic:</strong> The chart feature can be activated via the <code>generate</code> command. Hence, a parser is required to parse the command.</p>
</li>
<li>
<p><strong>Model:</strong> Any changes made to the travel records has to be reflected in the charts. Hence, relevant data is extracted from the latest version of the travel records.</p>
</li>
<li>
<p><strong>Storage:</strong> The extracted data has to be stored into the charts' respective JSON files.</p>
</li>
<li>
<p><strong>User Interface (UI):</strong> The charts have to be displayed to the users.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The enhancement required an in-depth analysis of various design alternatives. The challenge was to redesign the architecture to suit the enhancement while still maintaining the integrity of other existing commands and features.</p>
</div>
<div class="paragraph">
<p><strong>Credits:</strong> <a href="https://github.com/google/gson">Gson</a>, a third-party library, was used in the enhancement of this product to convert Java Objects into JSON and back.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed to the major enhancement</strong>: [<a href="https://nus-cs2103-ay1819s2.github.io/cs2103-dashboard/#search=chung-ming&amp;sort=displayName&amp;since=2019-02-10&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">RepoSense</a>] [<a href="https://github.com/CS2103-AY1819S2-W11-3/main/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+author%3Achung-ming+-label%3Atype.MinorEnhancement+-label%3Atype.Testing">Functional code</a>] [<a href="https://github.com/CS2103-AY1819S2-W11-3/main/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+author%3Achung-ming+label%3Atype.Testing">Test code</a>]</p>
</div>
</div>
<div class="sect2">
<h3 id="minor-enhancement"><a class="link" href="#minor-enhancement">2.2. Minor Enhancement</a></h3>
<div class="paragraph">
<p>The minor enhancement I did was converting the <code>add</code> command&#8217;s <code>Email</code> parameter in the previous address book product to a <code>Description</code> parameter in the current product. The <code>Description</code> parameter allows users to note down their thoughts about the specific place that they have visited.</p>
</div>
<div class="paragraph">
<p>Additionally, I added command aliases to new and existing commands so users have the option to input a shorter command.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed to both minor enhancements</strong>: [<a href="https://github.com/CS2103-AY1819S2-W11-3/main/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+author%3Achung-ming+label%3Atype.minorEnhancement">Functional code</a>]</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">2.3. Other Contributions</a></h3>
<div class="paragraph">
<p>The details of other contributions can be found in <a href="#OtherContributions">Table 2.3.1</a> below:</p>
</div>
<table id="OtherContributions" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2.3.1: Details of Other Contributions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Project management</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Managed releases on GitHub (Releases: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/releases/tag/v1.2"><code>v1.2</code></a>, <a href="https://github.com/CS2103-AY1819S2-W11-3/main/releases/tag/v1.2.1"><code>v1.2.1</code></a>, <a href="https://github.com/CS2103-AY1819S2-W11-3/main/releases/tag/v1.3.1"><code>v1.3.1</code></a> and <a href="https://github.com/CS2103-AY1819S2-W11-3/main/releases/tag/1.4"><code>v1.4</code></a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Enhancements to existing features</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Updated the Graphical User Interface&#8217;s (GUI) color scheme to <a href="https://github.com/CS2103-AY1819S2-W11-3/main/blob/master/src/main/resources/view/LightTheme.css"><code>LightTheme.css</code></a> (Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/88">#88</a>)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Documentation</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Improved readability to existing contents of the User Guide<br>
(Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/165">#165</a>)<br></p>
</li>
<li>
<p>Added <a href="https://cs2103-ay1819s2-w11-3.github.io/main/UserGuide.html#command-glossary-and-shortcuts">Command Glossary and Shortcuts</a> to the User Guide<br>
(Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/163">#163</a>)</p>
</li>
<li>
<p>Added <a href="https://cs2103-ay1819s2-w11-3.github.io/main/DeveloperGuide.html#user-stories">user stories</a>, <a href="https://cs2103-ay1819s2-w11-3.github.io/main/DeveloperGuide.html#use-cases">use cases</a> and <a href="https://cs2103-ay1819s2-w11-3.github.io/main/DeveloperGuide.html#non-functional-requirements">non-functional requirements</a> to the Developer Guide (Pull requests: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/170">#170</a> and <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/192">#192</a>)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Community</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Reviewed a teammates' pull requests (with non-trivial review comments)<br>
(Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/115#discussion_r271991549">#115</a>)<br></p>
</li>
<li>
<p>Contributed to the forum discussions<br>
(Example: <a href="https://github.com/nus-cs2103-AY1819S2/forum/issues/37#issuecomment-474714683">1</a>)<br></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams<br>
(Examples:
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/144#issue-429813664">1</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/139#issue-429808212">2</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/134#issue-429801329">3</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/131#issue-429798816">4</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/129#issue-429796558">5</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/123#issue-429791114">6</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/120#issue-429789451">7</a>,
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/117#issue-429786916">8</a> and
<a href="https://github.com/cs2103-ay1819s2-w14-4/main/issues/110#issue-429781005">9</a>)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tools</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Integrated a third-party library (Gson) to the project<br>
(Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/80">#80</a>)<br></p>
</li>
<li>
<p>Integrated a new GitHub plugin (<a href="https://www.codacy.com/">Codacy</a>) to the team repository<br>
(Pull request: <a href="https://github.com/CS2103-AY1819S2-W11-3/main/pull/113">#113</a>)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">3. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The original User Guide was updated to match the enhancements implemented in this project.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><em>Given below is the start of the excerpt of sections I contributed to the <a href="https://cs2103-ay1819s2-w11-3.github.io/main/UserGuide.html">User Guide</a>. They showcase my ability to write documentation targeting end-users.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generateFeature"><a class="link" href="#generateFeature">3.1. Generating Charts: <code>generate</code></a></h3>
<div id="Chart_Combined" class="imageblock">
<div class="content">
<img src="../images/Chart_Combined.png" alt="Chart Combined" width="800">
</div>
<div class="title">Figure 4.17.1: The number of places visited by country, rating category and year</div>
</div>
<div class="paragraph">
<p><strong>Description:</strong> The <code>generate</code> command generates charts based on the list of places in TravelBuddy. TravelBuddy serves up three charts (<a href="#Chart_Combined">Figure 4.17.1</a>) that are the most relevant to you as a traveler:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The number of places visited for each country</p>
</li>
<li>
<p>The number of places visited for each rating category</p>
</li>
<li>
<p>The number of places visited for each year</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Shortcut:</strong> <code>g</code></p>
</div>
<div class="paragraph">
<p><strong>Format:</strong> <code>generate</code></p>
</div>
<div class="paragraph">
<p><strong>Preconditions:</strong> Given below is a list of preconditions that must be met for the <code>generate</code> command to work:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, the charts are automatically generated each time TravelBuddy loads.</p>
</li>
<li>
<p>The <code>generate</code> command always triggers the display of all three charts, as seen in <a href="#Chart_Combined">Figure 4.17.1</a>.</p>
</li>
<li>
<p>The charts always update themselves in real-time.<br>
<strong><em>Example:</em></strong> When a place is added via the <code>add</code> command, the charts are automatically updated so that no <code>generate</code> command is necessary.</p>
</li>
<li>
<p>If the list is empty, the <code>generate</code> command will not display any charts (<a href="#Generate_ListIsEmpty">Figure 4.17.4</a>).</p>
</li>
<li>
<p>You can type in any parameters after the <code>generate</code> command, TravelBuddy will simply ignore them (<a href="#Generate_BeforeParamAfterParam">Figure 4.17.2</a>).</p>
</li>
</ul>
</div>
<div id="Generate_BeforeParamAfterParam" class="imageblock">
<div class="content">
<img src="../images/Generate_BeforeParamAfterParam.png" alt="Generate BeforeParamAfterParam" width="800">
</div>
<div class="title">Figure 4.17.2: Before and after a parameter is used in the <code>generate</code> command</div>
</div>
<div class="paragraph">
<p><strong>Examples:</strong> Given below are some examples on how to utilize the <code>generate</code> command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>select 1</code><br>
Selects the 1st place in the current list displayed.<br>
<code>generate</code><br>
Generates the charts. <br>
<strong><em>Outcome:</em></strong> The charts were successfully generated, as seen in <a href="#Generate_Successful">Figure 4.17.3</a></p>
</li>
<li>
<p><code>clear</code><br>
Clears all places in the list.<br>
<code>generate</code><br>
Generates the charts. <br>
<strong><em>Outcome:</em></strong> Unable to generate the charts as the list is empty, as seen in <a href="#Generate_ListIsEmpty">Figure 4.17.4</a></p>
</li>
</ul>
</div>
<div id="Generate_Successful" class="imageblock">
<div class="content">
<img src="../images/Generate_Successful.png" alt="Generate Successful" width="380">
</div>
<div class="title">Figure 4.17.3: The charts were successfully generated</div>
</div>
<div id="Generate_ListIsEmpty" class="imageblock">
<div class="content">
<img src="../images/Generate_ListIsEmpty.png" alt="Generate ListIsEmpty" width="380">
</div>
<div class="title">Figure 4.17.4: Unable to generate the charts as the list is empty</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><em>This is the end of the excerpt of the <a href="https://cs2103-ay1819s2-w11-3.github.io/main/UserGuide.html">User Guide</a>.</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">4. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The original Developer Guide was updated to match the enhancements implemented in this project.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><em>Given below is the start of the excerpt of sections I contributed to the <a href="https://cs2103-ay1819s2-w11-3.github.io/main/DeveloperGuide.html">Developer Guide</a>. They showcase my ability to write documentation targeting end-users.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="chart-feature"><a class="link" href="#chart-feature">4.1. Chart Feature</a></h3>
<div class="paragraph">
<p>The Chart feature displays to users three different charts in TravelBuddy. They are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Number of Places Visited by Rating Category</p>
</li>
<li>
<p>The Number of Places Visited by Year</p>
</li>
<li>
<p>The Number of Places Visited by Country</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Chart feature is activated in TravelBuddy by default when the application launches. Alternatively, the <code>generate</code> command is also used to generate the charts. The <code>generate</code> command does not require any parameters.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Instead of typing <code>generate</code>, you can simply type the shortcut <code>g</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">4.1.1. Current Implementation</a></h4>
<div class="paragraph">
<p><strong>Logic:</strong> The <code>generate</code> mechanism is executed by <code>GenerateCommand</code>, which extends from <code>Command</code>. A code snippet is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult execute(Model model, CommandHistory history) {
    requireNonNull(model);
    model.setChartDisplayed(<span class="predefined-constant">true</span>); <i class="conum" data-value="1"></i><b>(1)</b>
    model.commitTravelBuddy(); <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="keyword">if</span> (model.getFilteredPlaceList().isEmpty()) { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_EMPTY);
    } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the snippet, the operations implemented are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Model#setChartDisplayed(chartDisplayed)</code> - Signals to the UI to display the charts.</p>
</li>
<li>
<p><code>Model#commitTravelBuddy()</code> - Saves the current TravelBuddy state from its history.</p>
</li>
<li>
<p><code>Model#getFilteredPlaceList()</code> - Verifies if the list is empty.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#setChartDisplayed(chartDisplayed)</code>, <code>Model#commitTravelBuddy()</code> and <code>Model#getFilteredPlaceList()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Model:</strong> The chart generation mechanism is facilitated by <code>VersionedTravelBuddy</code>, which extends from <code>TravelBuddy</code>, as seen in the Model Class Diagram in <a href="#ModelClassDiagram">[ModelClassDiagram]</a>.</p>
</div>
<div class="paragraph">
<p>For this section on Charts, the focus is on the <a href="#class-diagram">class diagram</a> as seen in <a href="#chartOopDiagramFigure">Figure 4.5.1.1</a>. The step-by-step explanation of the class diagram can be found below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>ModelManager</code> is a container for a <code>VersionedTravelBuddy</code> object.</p>
</li>
<li>
<p>VersionedTravelBuddy consists of a <code>UniquePlaceList</code> object.</p>
</li>
<li>
<p><code>UniquePlaceList</code> is a container for one or more <code>ChartBook</code> objects and for one or more <code>Place</code> object.</p>
</li>
<li>
<p><code>ChartBook</code> consists of a <code>CountryChartList</code> object, a <code>RatingChartList</code> object and a <code>YearChartList</code> object.</p>
</li>
<li>
<p><code>countryChartList</code> is a container for one or more <code>CountryChart</code> objects. Similarly, <code>ratingChartList</code> is a container for one or more <code>RatingChart</code> objects and <code>yearChartList</code> is a container for one or more <code>YearChart</code> objects.</p>
</li>
<li>
<p><code>CountryChart</code> consists of a <code>CountryCode</code> object and a <code>Total</code> object. Similarly, <code>RatingChart</code> consists of a <code>Rating</code> object and a <code>Total</code> object and <code>YearChart</code> consists of a <code>Year</code> object and a <code>Total</code> object.</p>
</li>
</ol>
</div>
<div id="chartOopDiagramFigure" class="imageblock">
<div class="content">
<img src="../images/Chart_ModelClassBetterOopDiagram.png" alt="Chart ModelClassBetterOopDiagram" width="590">
</div>
<div class="title">Figure 4.5.1.1: OOP Diagram</div>
</div>
<div id="GenerateCommandActivityDiagram" class="imageblock">
<div class="content">
<img src="../images/GenerateCommandActivityDiagram.png" alt="GenerateCommandActivityDiagram" width="380">
</div>
<div class="title">Figure 4.5.1.2: Activity Diagram for the <code>generate</code> command</div>
</div>
<div class="paragraph">
<p><strong>Logic &amp; Model Interaction:</strong> Having discussed Logic and Model, we can now model the workflow of the <code>generate</code> command. This can be accomplished using an <a href="#activity-diagram">activity diagram</a>, as seen in <a href="#GenerateCommandActivityDiagram">Figure 4.5.1.2</a>.</p>
</div>
<div class="paragraph">
<p>Additionally, we want to be able to capture the interaction between multiple objects for the <code>generate</code> command. This can be accomplished using a <a href="#sequence-diagram">sequence diagram</a>, as seen in <a href="#GenerateCommandSeqDiagramFigure">Figure 4.5.1.3</a> below. The step-by-step explanation of the sequence diagram is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user enters the command <code>generate</code> without any parameters.</p>
</li>
<li>
<p>The command is processed by the Logic component, which will then call <code>LogicManager#execute()</code>.</p>
</li>
<li>
<p>The <code>GenerateCommand#execute()</code> method is invoked.</p>
</li>
<li>
<p>The <code>Model#setChartDisplayed()</code> method is invoked with the argument <code>true</code>. The <code>Model#commitTravelBuddy()</code> method is also invoked.</p>
</li>
<li>
<p>The <code>TravelBuddy#commitTravelBuddy()</code> method is invoked by <code>Model</code>.</p>
</li>
<li>
<p>The <code>ChartBook#commitChart()</code> method is invoked by <code>TravelBuddy</code>.</p>
</li>
<li>
<p>The <code>CommandResult</code> object is returned.</p>
</li>
</ol>
</div>
<div id="GenerateCommandSeqDiagramFigure" class="imageblock">
<div class="content">
<img src="../images/GenerateCommandSeqDiagram.png" alt="GenerateCommandSeqDiagram" width="700">
</div>
<div class="title">Figure 4.5.1.3: Sequence Diagram for the <code>generate</code> command</div>
</div>
<div class="paragraph">
<p><strong>Storage:</strong> The Chart&#8217;s storage is handled by <code>JsonChartBookStorage</code>, which implements from <code>ChartBookStorage</code>. The three main data-storage methods it implements are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>saveCountryChart(filePath)</code> - Saves the countries data into a JSON file.</p>
</li>
<li>
<p><code>saveRatingChart(filePath)</code> - Saves the ratings data into a JSON file.</p>
</li>
<li>
<p><code>saveYearChart(filePath)</code> - Saves the years data into a JSON file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As an example, a code snippet for <code>saveCountryChart(filePath)</code> is shown below. In it, a third-party library called Gson was used to convert Java Objects into JSON and back. The Gson API can be found <a href="https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5">here</a>. A step-by-step explanation is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>saveCountryChart</code> accepts a <code>ReadOnlyCountryChart</code> object, which supplies data for the Country Chart, and a <code>Path</code> object, which specifies the file path for the <code>FileWriter</code> to write into.</p>
</li>
<li>
<p>Both objects are checked by <code>requireAllNonNull</code> to make sure they are not empty.</p>
</li>
<li>
<p>A <code>Gson</code> object is instantiated using the <code>GsonBuilder#setPrettyPrinting()#create()</code> object.</p>
</li>
<li>
<p>A <code>FileWriter</code> object is instantiated with the <code>Path</code> object as its parameter.</p>
</li>
<li>
<p>Assuming there are no exceptions, <code>Gson#toJson()</code> object will serialize the <code>ReadOnlyCountryChart</code> data as a <code>JsonObject</code> and place the stream on <code>FileWriter</code>.</p>
</li>
<li>
<p>The <code>FileWriter#flush()</code> will flush the stream.</p>
</li>
<li>
<p>If an <code>IOException</code> occurs, a warning message will be displayed by the <code>Logger#warning</code> object.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> saveCountryChart(ReadOnlyCountryChart countryChart, Path filePath) { <i class="conum" data-value="1"></i><b>(1)</b>
    requireAllNonNull(countryChart, filePath); <i class="conum" data-value="2"></i><b>(2)</b>
    Gson gson = <span class="keyword">new</span> GsonBuilder().setPrettyPrinting().create(); <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="keyword">try</span> {
        <span class="predefined-type">FileWriter</span> fileWriter = <span class="keyword">new</span> <span class="predefined-type">FileWriter</span>(<span class="predefined-type">String</span>.valueOf(filePath)); <i class="conum" data-value="4"></i><b>(4)</b>
        gson.toJson(countryChart, fileWriter); <i class="conum" data-value="5"></i><b>(5)</b>
        fileWriter.flush(); <i class="conum" data-value="6"></i><b>(6)</b>
    } <span class="keyword">catch</span> (<span class="exception">IOException</span> ioe) {
        logger.warning(ioe.getMessage()); <i class="conum" data-value="7"></i><b>(7)</b>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="generate-command"><a class="link" href="#generate-command">4.1.2. Generate Command</a></h4>
<div class="paragraph">
<p><strong>Preconditions:</strong> Given below is a list of preconditions that must be met for the <code>generate</code> command to work:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, the charts are automatically generated each time TravelBuddy loads.</p>
</li>
<li>
<p>The <code>generate</code> command always triggers the display of all three charts.</p>
</li>
<li>
<p>The charts always update themselves in real-time.<br>
<em>Example:</em> When a place is added via the <code>add</code> command, the charts are automatically updated so that no <code>generate</code> command is necessary.</p>
</li>
<li>
<p>The chart will not display anything when the list is empty.</p>
</li>
<li>
<p>You can type in any parameters after the <code>generate</code> command, TravelBuddy will simply ignore them.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example:</strong> Given below is an example usage scenario of the <code>generate</code> command.</p>
</div>
<div class="paragraph">
<p><strong>Step 1:</strong> By default, the charts are displayed when TravelBuddy launches. To navigate away from the charts, type in <code>select 1</code>.<br>
<strong>Outcome:</strong> The first index in the place list will be selected and displayed on the right-hand side of the panel.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> Type in <code>generate</code> to generate the charts.<br>
<strong>Outcome:</strong> The charts will be displayed on the right-hand side of the panel.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-chart-generation-executes"><a class="link" href="#aspect-how-chart-generation-executes">Aspect: How Chart Generation Executes</a></h5>
<div class="paragraph">
<p>Given below is a comparison between the alternatives of the <code>generate</code> mechanism design.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 13.7931%;">
<col style="width: 43.1034%;">
<col style="width: 43.1035%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Alternative 1 (current choice)</strong></th>
<th class="tableblock halign-left valign-top"><strong>Alternative 2</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updates the charts both in real-time and when the <code>generate</code> command is used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updates the charts only when the <code>generate</code> command is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ease-of-use</strong>. This approach is more user-friendly, as users do not need to type an additional <code>generate</code> command after changes are made to the Place list.<br>
<strong>Accuracy</strong>. This approach is more accurate as the charts reflect the latest changes regardless of whether the user types the <code>generate</code> command.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scalability</strong>. This approach is computationally less intensive, as the charts are only generated when required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cons</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scalability</strong>. This approach is computationally more intensive, especially when the Place list is huge, as all three charts need to be regenerated every time a change is detected.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ease-of-use</strong>. This approach is Less user-friendly as users will need to type the <code>generate</code> command for the charts to reflect the changes made to the Place list.<br>
<strong>Accuracy</strong>. This approach is less accurate as the charts does not reflect the latest changes until the user types the <code>generate</code> command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Example</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As shown in <a href="#Generate_BeforeEditAfterEdit">Figure 4.5.3.1</a>, before the <code>edit 1 cc/USA</code> command was executed, the chart did not have a separate bar for USA. After the command was executed, the chart updated in real-time to include a bar for USA. All this was done without invoking the <code>generate</code> command.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N.A.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Decision:</strong> Alternative 1, which is to update the charts in real-time, was adopted as it promotes ease-of-use, so users are not required to type in an additional <code>generate</code> command whenever changes are made to the Place list. Moreover, Alternative 1 is the more accurate option of the two, as the chart reflects the latest changes even if the user forgets to type the <code>generate</code> command.</p>
</div>
<div id="Generate_BeforeEditAfterEdit" class="imageblock">
<div class="content">
<img src="../images/Generate_BeforeEditAfterEdit.png" alt="Generate BeforeEditAfterEdit" width="800">
</div>
<div class="title">Figure 4.5.3.1: A comparison before and after the <code>edit</code> command was executed</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><em>This is the end of the excerpt of the <a href="https://cs2103-ay1819s2-w11-3.github.io/main/DeveloperGuide.html">Developer Guide</a>.</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 13:05:00 UTC</div></div></div></body></html>